### Overview

- [æ‰©å±•æ–‡ä»¶(Extension Files)](#æ‰©å±•æ–‡ä»¶(Extension-Files))
  - [æ–‡ä»¶å¼•ç”¨(Referring to files)](#æ–‡ä»¶å¼•ç”¨(Referring-to-files))
- [æ¶æ„(Architecture)](#æ¶æ„(architecture))


æ‰©å±•æ˜¯ web å¹³å°ä¸­ä½¿ç”¨çš„ HTMLã€CSSã€JavaScriptã€å›¾åƒå’Œå…¶ä»–æ–‡ä»¶çš„å‹ç¼©åŒ…ï¼Œç”¨äºå®šåˆ¶ Google Chrome çš„æµè§ˆä½“éªŒã€‚æ‰©å±•æ˜¯ä½¿ç”¨ web æŠ€æœ¯æ„å»ºçš„ï¼Œå¯ä»¥ä½¿ç”¨æµè§ˆå™¨æä¾›ç»™å¼€æ”¾ web çš„ç›¸åŒ apiã€‚

> Extensions are zipped bundles of HTML, CSS, JavaScript, images, and other files used in the web platform, that customize the Google Chrome browsing experience. Extensions are built using web technology and can use the same APIs the browser provides to the open web.

æ‰©å±•å…·æœ‰å¹¿æ³›çš„åŠŸèƒ½å¯å¡‘æ€§ã€‚å®ƒä»¬å¯ä»¥ä¿®æ”¹ç”¨æˆ·çœ‹åˆ°çš„ web å†…å®¹ï¼Œå¹¶ä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’ã€æ‰©å±•å’Œæ›´æ”¹æµè§ˆå™¨æœ¬èº«çš„è¡Œä¸ºã€‚

> Extensions have a wide range of functional possibilities. They can modify web content users see and interact with or extend and change the behavior of the browser itself.

æ‰©å±•è¢«çœ‹ä½œæ˜¯ Chrome æ‰“é€ æˆæœ€ä¸ªæ€§åŒ–æµè§ˆå™¨çš„å¤§é—¨.

> Consider extensions the gateway to making the Chrome browser the most personalized browser.

#### æ‰©å±•æ–‡ä»¶(Extension Files)

æ‰©å±•ååœ¨æ–‡ä»¶ç±»å‹å’Œç›®å½•æ•°é‡ä¸Šæœ‰æ‰€ä¸åŒï¼Œä½†å®ƒä»¬éƒ½éœ€è¦æœ‰æ¸…å•ã€‚ä¸€äº›åŸºæœ¬ä½†æœ‰ç”¨çš„æ‰©å±•å¯èƒ½åªåŒ…å«æ¸…å•åŠå…¶å·¥å…·æ å›¾æ ‡ã€‚

> Extensions vary in types of files and amount of directories, but they are all required to have a **manifest**. Some basic, but useful, extensions may consist of just the manifest and its toolbar icon.

åä¸º manifest.json çš„æ¸…å•æ–‡ä»¶å‘æµè§ˆå™¨æä¾›æœ‰å…³æ‰©å±•åçš„ä¿¡æ¯ï¼Œä¾‹å¦‚æœ€é‡è¦çš„æ–‡ä»¶å’Œæ‰©å±•åå¯èƒ½ä½¿ç”¨çš„åŠŸèƒ½ã€‚

> The manifest file, titled **manifest.json**, gives the browser information about the extension, such as the most important files and the capabilities the extension might use.

```json
{
  "name": "My Extension",
  "version": "2.1",
  "description": "Gets information from Google.",
  "icons": {
    "128": "icon_16.png",
    "128": "icon_32.png",
    "128": "icon_48.png",
    "128": "icon_128.png"
  },
  "background": {
    "persistent": false,
    "scripts": ["background_script.js"]
  },
  "permissions": ["https://*.google.com/", "activeTab"],
  "browser_action": {
    "default_icon": "icon_16.png",
    "default_popup": "popup.html"
  }
}
```

æ‰©å±•å¿…é¡»æœ‰ä¸€ä¸ªä½äºæµè§ˆå™¨å·¥å…·æ ä¸­çš„å›¾æ ‡ã€‚å·¥å…·æ å›¾æ ‡å…è®¸ç®€å•çš„è®¿é—®å¹¶è®©ç”¨æˆ·çŸ¥é“å®‰è£…äº†å“ªäº›æ‰©å±•ã€‚å¤§å¤šæ•°ç”¨æˆ·å°†é€šè¿‡ç‚¹å‡»å›¾æ ‡ä½¿ç”¨å¼¹çª—æ¥å’Œæ‰©å±•è¿›è¡Œäº¤äº’ã€‚

> Extensions must have an icon that sits in the browser toolbar. Toolbar icons allow easy access and keep users aware of which extensions are installed. Most users will interact with an extension that uses a popup by clicking on the icon.

|                                                                            |                                                                    |
| -------------------------------------------------------------------------- | ------------------------------------------------------------------ |
| ![](https://developer.chrome.com/static/images/overview/browser_arrow.png) | ![](https://developer.chrome.com/static/images/overview/mappy.png) |
| This Google Mail Checker extension uses a browser action.                  | This Mappy extension uses a page action and content script.        |

##### æ–‡ä»¶å¼•ç”¨(Referring to files)

æ‰©å±•çš„æ–‡ä»¶å¯ä»¥é€šè¿‡ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ¥å¼•ç”¨ï¼Œå°±åƒæ™®é€š HTML é¡µé¢ä¸­çš„æ–‡ä»¶ä¸€æ ·ã€‚

> An extension's files can be referred to by using a relative URL, just as files in an ordinary HTML page.

```html
<img src="images/my_image.png" />
```
æ­¤å¤–ï¼Œæ¯ä¸ªæ–‡ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„è¿›è¡Œå…¥è®¿é—®
>Additionally, each file can also be accessed using an absolute URL.

```
chrome-extension://<extensionID>/<pathToFile>
```

åœ¨ç»å¯¹è·¯å¾„ä¸­ï¼Œ*\<extensionID\>* æ˜¯æ‰©å±•ç³»ç»Ÿä¸ºæ¯ä¸ªæ‰©å±•ç”Ÿæˆçš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å¯ä»¥é€šè¿‡è½¬åˆ°URL chrome://extensionsæŸ¥çœ‹æ‰€æœ‰åŠ è½½çš„æ‰©å±•çš„idã€‚*\<pathToFile\>* æ˜¯æ–‡ä»¶åœ¨æ‰©å±•åé¡¶çº§æ–‡ä»¶å¤¹ä¸‹çš„ä½ç½®ï¼›å®ƒä¸ç›¸å¯¹è·¯å¾„åŒ¹é…ã€‚
>In the absolute URL, the *\<extensionID\>* is a unique identifier that the extension system generates for each extension. The IDs for all loaded extensions can be viewed by going to the URL **chrome://extensions** . The *\<pathToFile\>* is the location of the file under the extension's top folder; it matches the relative URL.

åœ¨å¤„ç†æœªæ‰“åŒ…çš„æ‰©å±•æ—¶ï¼Œæ‰©å±•æ ‡è¯†å¯ä»¥æ›´æ”¹ã€‚ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœæ‰©å±•æ˜¯ä»ä¸åŒçš„ç›®å½•åŠ è½½çš„ï¼Œåˆ™è§£åŒ…æ‰©å±•çš„IDå°†æ›´æ”¹ï¼›å½“æ‰©å±•è¢«æ‰“åŒ…æ—¶ï¼ŒIDå°†å†æ¬¡æ›´æ”¹ã€‚å¦‚æœæ‰©å±•çš„ä»£ç ä¾èµ–äºç»å¯¹URLï¼Œé‚£ä¹ˆå®ƒå¯ä»¥ä½¿ç”¨chrome.runtime.getURLï¼ˆï¼‰æ–¹æ³•æ¥é¿å…åœ¨å¼€å‘æœŸé—´ç¡¬ç¼–ç IDã€‚
>While working on an unpacked extension the extension ID can change. Specifically, the ID of an unpacked extension will change if the extension is loaded from a different directory; the ID will change again when the extension is packaged. If an extension's code relies on an absolute URL, it can use the **chrome.runtime.getURL()** method to avoid hardcoding the ID during development.

#### æ¶æ„(architecture)

æ‰©å±•çš„ä½“ç³»ç»“æ„å°†å–å†³äºå…¶åŠŸèƒ½ï¼Œä½†è®¸å¤šå¥å£®çš„æ‰©å±•å°†åŒ…æ‹¬å¤šä¸ªç»„ä»¶ï¼š
>An extensionâ€™s architecture will depend on its functionality, but many robust extensions will include multiple components:
- ğŸ“ Manifest
- [Background Script](#Background-Script)
- [UI Elements](#UI-Elements)
- [Content Script](#Content-Script)
- [Options Page](#Options-Page)

##### Background Script
##### UI Elements
##### Content Script
##### Options Page